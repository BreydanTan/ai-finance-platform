# ç¬¬å››é˜¶æ®µï¼šå®Œæ•´å¤åˆ¶ - é‡å»ºæ ¸å¿ƒåŠŸèƒ½ ğŸ—ï¸

**å­¦ä¹ æ—¶é—´**: 2-3 å‘¨
**éš¾åº¦ç­‰çº§**: â­â­â­â­ é«˜çº§
**å®Œæˆæ ‡å¿—**: ä¸»è¦åŠŸèƒ½æ­£å¸¸å·¥ä½œ

---

## ğŸ¯ å­¦ä¹ ç›®æ ‡

- âœ… å¤åˆ¶ç”¨æˆ·è®¤è¯æµç¨‹
- âœ… é‡å»ºè´¦æˆ·ç®¡ç†åŠŸèƒ½
- âœ… å®ç°äº¤æ˜“ç³»ç»Ÿ
- âœ… æ·»åŠ é¢„ç®—åŠŸèƒ½
- âœ… é›†æˆ AI æ”¶æ®æ‰«æ

---

## ğŸ› ï¸ å¤åˆ¶è·¯çº¿å›¾

### æ¨¡å— 1: ç”¨æˆ·è®¤è¯ (3-5å¤©)

**é…ç½® Clerk**:

1. è®¿é—® https://clerk.com åˆ›å»ºè´¦å·
2. åˆ›å»ºåº”ç”¨ï¼Œé€‰æ‹© Next.js
3. å¤åˆ¶ API å¯†é’¥åˆ° `.env`:
```bash
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
```

4. é…ç½®é‡å®šå‘ URL:
```bash
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard
```

**æµ‹è¯•è®¤è¯**:
- è®¿é—® `/sign-in` æ³¨å†Œè´¦å·
- ç™»å½•ååº”è·³è½¬åˆ° `/dashboard`

**å‚è€ƒä»£ç **:
- ä¸­é—´ä»¶: `middleware.js`
- ç”¨æˆ·åŒæ­¥: `lib/checkUser.js`

---

### æ¨¡å— 2: è´¦æˆ·ç®¡ç† (4-6å¤©)

**åŠŸèƒ½æ¸…å•**:
- [ ] æ˜¾ç¤ºè´¦æˆ·åˆ—è¡¨
- [ ] åˆ›å»ºæ–°è´¦æˆ·
- [ ] æŸ¥çœ‹è´¦æˆ·è¯¦æƒ…
- [ ] ç¼–è¾‘è´¦æˆ·ä¿¡æ¯
- [ ] åˆ é™¤è´¦æˆ·

**å…³é”®æ–‡ä»¶**:
```
actions/dashboard.js
  - getUserAccounts()
  - createAccount()

app/(main)/dashboard/page.jsx
  - æ˜¾ç¤ºè´¦æˆ·åˆ—è¡¨

components/create-account-drawer.jsx
  - åˆ›å»ºè´¦æˆ·è¡¨å•
```

**AI åä½œæç¤ºè¯**:
```
"å‚è€ƒ project-mastery/analysis/02-backend-analysis.md ä¸­çš„ getUserAccounts å‡½æ•°ï¼Œ
å¸®æˆ‘åˆ›å»ºä¸€ä¸ªç±»ä¼¼çš„å‡½æ•°ï¼Œä½†æ·»åŠ ä»¥ä¸‹åŠŸèƒ½ï¼š
1. æŒ‰ä½™é¢æ’åº
2. ç­›é€‰è´¦æˆ·ç±»å‹
3. è¿”å›è´¦æˆ·çš„äº¤æ˜“ç»Ÿè®¡

è¯·æä¾›ä»£ç å’Œè¯¦ç»†æ³¨é‡Šã€‚"
```

---

### æ¨¡å— 3: äº¤æ˜“ç³»ç»Ÿ (5-7å¤©)

**æ ¸å¿ƒåŠŸèƒ½**:
1. **åˆ›å»ºäº¤æ˜“**
   - æ–‡ä»¶: `actions/transaction.js` (18-100è¡Œ)
   - è¡¨å•: `app/(main)/transaction/_components/transaction-form.jsx`

2. **æŸ¥çœ‹äº¤æ˜“åˆ—è¡¨**
   - æ–‡ä»¶: `actions/account.js`
   - é¡µé¢: `app/(main)/account/[id]/page.jsx`

3. **ç¼–è¾‘äº¤æ˜“**
   - æ–‡ä»¶: `actions/transaction.js` (105-176è¡Œ)

4. **åˆ é™¤äº¤æ˜“**
   - æ–‡ä»¶: `actions/transaction.js` (181-226è¡Œ)

**å…³é”®ç‚¹**:
- äº¤æ˜“åˆ›å»ºæ—¶æ›´æ–°è´¦æˆ·ä½™é¢ï¼ˆåŸå­æ“ä½œï¼‰
- æ”¯æŒæ”¶å…¥å’Œæ”¯å‡ºä¸¤ç§ç±»å‹
- åˆ†ç±»ç®¡ç†ï¼ˆé£Ÿå“ã€äº¤é€šç­‰ï¼‰
- æ—¥æœŸé€‰æ‹©

**å­¦ä¹ æ–¹æ³•**:
1. å…ˆé˜…è¯»ç°æœ‰ä»£ç 
2. ç†è§£æ•°æ®æµç¨‹
3. ä½¿ç”¨ Prisma Studio è§‚å¯Ÿæ•°æ®å˜åŒ–
4. é€æ­¥å®ç°æ¯ä¸ªåŠŸèƒ½

---

### æ¨¡å— 4: æ”¶æ®æ‰«æ (3-5å¤©)

**é…ç½® Gemini AI**:

1. è®¿é—®: https://makersuite.google.com/app/apikey
2. åˆ›å»º API å¯†é’¥
3. æ·»åŠ åˆ° `.env`:
```bash
GEMINI_API_KEY=your_key_here
```

**å®ç°æµç¨‹**:

```javascript
// actions/transaction.js:231-291

export async function scanReceipt(file) {
  // 1. è½¬æ¢å›¾ç‰‡ä¸º base64
  const base64 = await fileToBase64(file);

  // 2. è°ƒç”¨ Gemini AI
  const prompt = `åˆ†æè¿™å¼ æ”¶æ®,æå–:
    - amount (é‡‘é¢)
    - date (æ—¥æœŸ YYYY-MM-DD)
    - description (æè¿°)
    - category (åˆ†ç±»)
  `;

  const result = await gemini.generateContent([prompt, base64]);

  // 3. è§£æ JSON å“åº”
  const data = JSON.parse(result.text);

  return data;
}
```

**æµ‹è¯•**:
1. å‡†å¤‡ä¸€å¼ æ”¶æ®å›¾ç‰‡
2. åœ¨åˆ›å»ºäº¤æ˜“é¡µé¢ä¸Šä¼ 
3. æŸ¥çœ‹è‡ªåŠ¨å¡«å……çš„æ•°æ®

---

### æ¨¡å— 5: é¢„ç®—ç®¡ç† (3-4å¤©)

**åŠŸèƒ½**:
- è®¾ç½®æœˆåº¦é¢„ç®—
- æ˜¾ç¤ºé¢„ç®—ä½¿ç”¨ç™¾åˆ†æ¯”
- é¢„ç®—è­¦æŠ¥ï¼ˆè¶…è¿‡90%ï¼‰

**å‚è€ƒæ–‡ä»¶**:
```
actions/budget.js
  - getCurrentBudget()
  - updateBudget()

lib/inngest/function.js:171-230
  - checkBudgetAlerts() (åå°ä½œä¸š)
```

**ç®€åŒ–å®ç°**:
å…ˆä¸å®ç°é‚®ä»¶è­¦æŠ¥ï¼Œåªæ˜¾ç¤ºé¢„ç®—è¿›åº¦æ¡ã€‚

---

## ğŸ“ å®æˆ˜é¡¹ç›®ï¼šç®€åŒ–ç‰ˆè´¢åŠ¡ç®¡ç†å™¨

### é¡¹ç›®è¦æ±‚

åˆ›å»ºåŒ…å«ä»¥ä¸‹åŠŸèƒ½çš„ç®€åŒ–ç‰ˆæœ¬ï¼š

1. **ç”¨æˆ·ç³»ç»Ÿ**
   - æ³¨å†Œ/ç™»å½•ï¼ˆClerkï¼‰
   - ä¸ªäººèµ„æ–™é¡µé¢

2. **è´¦æˆ·ç®¡ç†**
   - åˆ›å»º2ç§ç±»å‹è´¦æˆ·
   - æ˜¾ç¤ºä½™é¢

3. **äº¤æ˜“è®°å½•**
   - æ·»åŠ æ”¶å…¥/æ”¯å‡º
   - æŸ¥çœ‹äº¤æ˜“å†å²
   - ç®€å•ç­›é€‰ï¼ˆæŒ‰æ—¥æœŸã€ç±»å‹ï¼‰

4. **æ•°æ®å¯è§†åŒ–**
   - æœ¬æœˆæ”¶æ”¯æŸ±çŠ¶å›¾
   - åˆ†ç±»å æ¯”é¥¼å›¾

### è¯„åˆ†æ ‡å‡†

| åŠŸèƒ½ | åˆ†å€¼ |
|-----|------|
| ç”¨æˆ·è®¤è¯ | 20åˆ† |
| è´¦æˆ·CRUD | 25åˆ† |
| äº¤æ˜“CRUD | 30åˆ† |
| æ•°æ®å›¾è¡¨ | 15åˆ† |
| ä»£ç è´¨é‡ | 10åˆ† |

**æ€»åˆ†**: 100åˆ†
**åŠæ ¼çº¿**: 70åˆ†

---

## âœ… éªŒè¯æ¸…å•

**åŠŸèƒ½éªŒè¯**:
- [ ] èƒ½æ³¨å†Œå’Œç™»å½•
- [ ] åˆ›å»ºè‡³å°‘2ä¸ªè´¦æˆ·
- [ ] æ·»åŠ è‡³å°‘10ç¬”äº¤æ˜“
- [ ] æŸ¥çœ‹è´¦æˆ·è¯¦æƒ…
- [ ] ç¼–è¾‘äº¤æ˜“ä¿¡æ¯
- [ ] åˆ é™¤äº¤æ˜“
- [ ] è®¾ç½®é¢„ç®—
- [ ] æŸ¥çœ‹æ•°æ®å›¾è¡¨

**ä»£ç è´¨é‡**:
- [ ] æœ‰é”™è¯¯å¤„ç†
- [ ] æœ‰æ•°æ®éªŒè¯
- [ ] ä»£ç æœ‰æ³¨é‡Š
- [ ] ä½¿ç”¨äº† Server Actions
- [ ] ä½¿ç”¨äº† Prisma äº‹åŠ¡

---

## ğŸ“ å­¦ä¹ èµ„æº

**å®Œæ•´æ•™ç¨‹**:
- è¯¦ç»†åˆ†æ: `project-mastery/analysis/`
- è§„æ ¼æ–‡æ¡£: `project-mastery/specifications/PROJECT_SPEC_CN.md`

**è§†é¢‘æ¨è**:
- Bç«™: "Next.js 15 å…¨æ ˆé¡¹ç›®å®æˆ˜"
- YouTube: "Build Finance App with Next.js"

---

## â¡ï¸ ä¸‹ä¸€æ­¥

å®Œæˆæ ¸å¿ƒåŠŸèƒ½åï¼Œè¿›å…¥ **[ç¬¬äº”é˜¶æ®µï¼šåŠŸèƒ½æ‰©å±•](./07-stage5-extensions.md)**
